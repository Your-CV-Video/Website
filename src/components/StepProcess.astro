---
const { header = '', title, description, steps } = Astro.props;
---
<section>
    <div class="max-w-6xl mx-auto px-4 sm:px-6">
        <div class="py-12 md:py-20 border-t border-slate-200">
            <!-- Section header -->
            {header !== '' && (
                <div class="max-w-3xl mx-auto text-center pb-12 md:pb-20">
                    <h2 class="h2 font-playfair-display text-slate-800">
                        {header}
                    </h2>
                </div>
            )}

            <!-- Section content -->
            <div
                class="max-w-xl mx-auto md:max-w-none flex flex-col md:flex-row md:items-start md:space-x-8 lg:space-x-16 xl:space-x-18 space-y-8 space-y-reverse md:space-y-0"
                x-data="{ tab: '1' }"
            >
                <!-- Tabs items (images) -->
                <div
                    class="md:rtl md:w-5/12 lg:w-1/2 order-1 md:order-none aos-init aos-animate"
                    data-aos="fade-down"
                >
                    <div class="relative flex flex-col">
                        {steps.map((step) => (
                            <div
                                key={step.c}
                                class="w-full"
                                x-show={`tab === '${step.c}'`}
                                x-transition:enter="transition ease-in-out duration-700 transform order-first"
                                x-transition:enter-start="opacity-0 -translate-y-16"
                                x-transition:enter-end="opacity-100 translate-y-0"
                                x-transition:leave="transition ease-in-out duration-300 transform absolute"
                                x-transition:leave-start="opacity-100 translate-y-0"
                                x-transition:leave-end="opacity-0 translate-y-16"
                                style="display: none;"
                            >
                                <img
                                    class="md:max-w-none mx-auto rounded-sm"
                                    src={step.image}
                                    width="540"
                                    height="620"
                                    alt={`Step ${step.c} image`}
                                />
                            </div>
                        ))}
                    </div>
                </div>

                <!-- Content -->
                <div class="md:w-7/12 lg:w-1/2 aos-init aos-animate" data-aos="fade-up">
                    <div class="mb-8 text-center md:text-left">
                        <h3 class="h3 text-slate-800 font-playfair-display mb-3">
                            {title}
                        </h3>
                        <p class="text-xl text-slate-500">{description}</p>
                    </div>
                    <!-- Tabs buttons -->
                    <div class="mb-8 md:mb-0">
                        {steps.map((step) => (
                            <button
                                key={step.c}
                                :class={`tab !== '${step.c}' ? 'border-transparent opacity-50 hover:opacity-75' : 'border-2 border-blue-500 opacity-100'`}
                                class="flex items-start text-left bg-white border-2 px-5 py-3 rounded-sm shadow-md transition duration-300 ease-in-out mb-3"
                                @click={`tab = '${step.c}'`}
                            >
                                <svg
                                    class="w-4 h-4 fill-current text-blue-600 shrink-0 mt-1 mr-4"
                                    viewBox="0 0 16 16"
                                    xmlns="http://www.w3.org/2000/svg"
                                >
                                    <path
                                        d="M9.4 6.6c.8.8.8 2 0 2.8-.8.8-2 .8-2.8 0-.8-.8-5-7.8-5-7.8s7 4.2 7.8 5Z"
                                    ></path>
                                    <path
                                        d="M8 16c-4.4 0-8-3.6-8-8 0-.6.4-1 1-1s1 .4 1 1c0 3.3 2.7 6 6 6s6-2.7 6-6-2.7-6-6-6c-.6 0-1-.4-1-1s.4-1 1-1c4.4 0 8 3.6 8 8s-3.6 8-8 8Z"
                                    ></path>
                                </svg>
                                <div>
                                    <div class="text-slate-800 font-medium mb-1">
                                        {step.title}
                                    </div>
                                    <div class="text-slate-500">{step.description}</div>
                                </div>
                            </button>
                        ))}
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
